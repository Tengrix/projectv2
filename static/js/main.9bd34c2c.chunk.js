(this.webpackJsonpprojectv2=this.webpackJsonpprojectv2||[]).push([[0],{109:function(e,t,a){},110:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(20),s=a.n(c),o=(a(84),a(13)),i=a(9),d=a(5),u=a(4),l=a(17),b=a.n(l),j=a(10),p=a(32),h=a(70),O=a.n(h).a.create({baseURL:"https://neko-back.herokuapp.com/2.0/",withCredentials:!0}),f=function(e,t,a){return O.post("auth/login",{email:e,password:t,rememberMe:a})},g=function(e,t){return O.post("auth/register",{email:e,password:t})},m=function(){return O.post("auth/me")},x=function(e){return O.put("auth/me",{name:e})},k=function(){return O.delete("auth/me")},v=function(e,t,a){return O.post("auth/forgot",{email:e,from:t,message:a})},w=function(e,t){return O.post("auth/set-new-password",{password:e,resetPasswordToken:t})},C=function(e){return O.get("cards/pack",e)},y=function(e){return O.post("cards/pack",{cardsPack:{name:e}})},P=function(e){return O.delete("cards/pack/?id=".concat(e))},S=function(e,t){return O.put("cards/pack",{cardsPack:{_id:e,name:t}})},N=function(e){return O.get("cards/card",e)},_=function(e){return O.post("cards/card",{card:e})},I=function(e){return O.delete("cards/card?id=".concat(e))},M=function(e,t,a){return O.put("cards/card",{card:{_id:e,question:t,answer:a}})},A=function(e,t){return O.put("cards/grade",{grade:e,card_id:t})},T=a(19),D=Object(T.b)("auth/login",function(){var e=Object(p.a)(b.a.mark((function e(t,a){var n,r,c,s,o,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.dispatch(J({status:"loading"})),e.prev=1,e.next=4,f(t.email,t.password,t.rememberMe);case 4:n=e.sent,r=n.data,c=r._id,s=r.name,o=r.email,i=r.avatar,a.dispatch(z({value:!0})),a.dispatch($({user:{_id:c,name:s,email:o,avatar:i}})),a.dispatch(J({status:"succeeded"})),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),e.t0.response?e.t0.response.data.error:e.t0.message+",more details in the console",console.log("Error: ",Object(j.a)({},e.t0));case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,a){return e.apply(this,arguments)}}()),F=Object(T.b)("auth/register",function(){var e=Object(p.a)(b.a.mark((function e(t,a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.dispatch(J({status:"loading"})),e.prev=1,e.next=4,g(t.email,t.password);case 4:return e.sent,a.dispatch(J({status:"succeeded"})),e.abrupt("return",{value:!0});case 9:e.prev=9,e.t0=e.catch(1),e.t0.response?e.t0.response.data.error:e.t0.message+",more details in the console",console.log("Error: ",Object(j.a)({},e.t0));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}()),q=Object(T.b)("auth/authMe",function(){var e=Object(p.a)(b.a.mark((function e(t,a){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.dispatch(J({status:"loading"})),e.prev=1,e.next=4,m();case 4:n=e.sent,a.dispatch(z({value:!0})),a.dispatch($({user:n.data})),a.dispatch(J({status:"succeeded"})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),e.t0.response?e.t0.response.data.error:e.t0.message+",more details in the console",console.log("Error: ",Object(j.a)({},e.t0));case 14:a.dispatch(B({value:!0}));case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,a){return e.apply(this,arguments)}}()),L=Object(T.b)("auth/updateUser",function(){var e=Object(p.a)(b.a.mark((function e(t,a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.dispatch(J({status:"loading"})),e.prev=1,e.next=4,x(t);case 4:e.sent,a.dispatch(W({name:t})),a.dispatch(J({status:"succeeded"})),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),e.t0.response?e.t0.response.data.error:e.t0.message+",more details in the console",console.log("Error: ",Object(j.a)({},e.t0));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}()),U=Object(T.b)("auth/logout",function(){var e=Object(p.a)(b.a.mark((function e(t,a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.dispatch(J({status:"loading"})),e.prev=1,e.next=4,k();case 4:e.sent,a.dispatch(z({value:!1})),a.dispatch(J({status:"succeeded"})),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),e.t0.response?e.t0.response.data.error:e.t0.message+",more details in the console",console.log("Error: ",Object(j.a)({},e.t0));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}()),E=Object(T.b)("auth/profile",function(){var e=Object(p.a)(b.a.mark((function e(t,a){var n,r,c,s,o,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m();case 3:n=e.sent,r=n.data,c=r._id,s=r.name,o=r.email,i=r.avatar,a.dispatch($({user:{_id:c,name:s,email:o,avatar:i}})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),e.t0.response?e.t0.response.data.error:e.t0.message+",more details in the console",console.log("Error: ",Object(j.a)({},e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}()),R=Object(T.b)("auth/getNewPass",function(){var e=Object(p.a)(b.a.mark((function e(t,a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.dispatch(J({status:"loading"})),e.prev=1,e.next=4,v(t.email,t.from,t.message);case 4:e.sent,a.dispatch(H({value:!0})),a.dispatch(J({status:"succeeded"})),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),e.t0.response?e.t0.response.data.error:e.t0.message+",more details in the console",console.log("Error: ",Object(j.a)({},e.t0));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}()),Z=Object(T.b)("auth/setPass",function(){var e=Object(p.a)(b.a.mark((function e(t,a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.dispatch(J({status:"loading"})),e.prev=1,e.next=4,w(t.password,t.token);case 4:e.sent,a.dispatch(V({value:!0})),a.dispatch(J({status:"succeeded"})),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),e.t0.response?e.t0.response.data.error:e.t0.message+",more details in the console",console.log("Error: ",Object(j.a)({},e.t0));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}()),Q=Object(T.c)({name:"auth",initialState:{isLoggedIn:!1,isRegistered:!1,isInitialized:!1,user:{_id:"",email:"",name:"",avatar:""},updatedUser:{},isPassUpdated:!1,isPassSet:!1,status:"idle"},reducers:{getLoginAC:function(e,t){e.isLoggedIn=t.payload.value},registerNewUser:function(e,t){e.isRegistered=t.payload.value},getMe:function(e,t){e.isInitialized=t.payload.value},getUpdatedUser:function(e,t){e.updatedUser=t.payload.name},getUser:function(e,t){e.user=t.payload.user},forgotPass:function(e,t){e.isPassUpdated=t.payload.value},setPass:function(e,t){e.isPassSet=t.payload.value},setAppStatusAC:function(e,t){e.status=t.payload.status}}}),G=Q.actions,z=G.getLoginAC,B=(G.registerNewUser,G.getMe),W=G.getUpdatedUser,$=G.getUser,H=G.forgotPass,V=G.setPass,J=G.setAppStatusAC,K=Q.reducer,Y=a(1),X=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.auth.isLoggedIn})),a=Object(u.c)((function(e){return e.auth.user})),r=Object(n.useState)(a.name),c=Object(d.a)(r,2),s=c[0],o=c[1],l=Object(n.useState)(!1),b=Object(d.a)(l,2),j=b[0],p=b[1],h=Object(n.useState)(!1),O=Object(d.a)(h,2),f=O[0],g=O[1];Object(n.useEffect)((function(){t||e(E())}),[]);return t?Object(Y.jsxs)("div",{children:[Object(Y.jsx)("div",{children:Object(Y.jsx)("img",{src:a.avatar,alt:""})}),f&&Object(Y.jsx)("div",{children:j?Object(Y.jsx)("input",{type:"text",value:s,autoFocus:!0,onBlur:function(){p(!1),e(L(s))},placeholder:"new name",onChange:function(e){o(e.currentTarget.value)}}):Object(Y.jsx)("span",{onDoubleClick:function(){p(!0),o(a.name)},children:s})}),Object(Y.jsx)("button",{onClick:function(){g(!f)},children:"show"})]}):Object(Y.jsx)(i.a,{to:xt.login})},ee=a(37),te=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.auth.isLoggedIn})),a=Object(ee.a)({initialValues:{email:"",password:"",rememberMe:!1},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",e.password?e.password.length<4&&(t.password="Invalid password"):t.password="Required",t},onSubmit:function(t){e(D(t)),a.resetForm()}});return t?Object(Y.jsx)(i.a,{to:xt.profile}):Object(Y.jsx)("div",{children:Object(Y.jsxs)("form",{onSubmit:a.handleSubmit,children:[Object(Y.jsxs)("div",{children:[Object(Y.jsx)("input",Object(j.a)({type:"email",placeholder:"email"},a.getFieldProps("email"))),a.touched.email&&a.errors.email&&Object(Y.jsx)("div",{style:{color:"red"},children:a.errors.email})]}),Object(Y.jsxs)("div",{children:[Object(Y.jsx)("input",Object(j.a)({type:"password",placeholder:"password"},a.getFieldProps("password"))),a.touched.password&&a.errors.password&&Object(Y.jsx)("div",{style:{color:"red"},children:a.errors.password})]}),Object(Y.jsx)("input",Object(j.a)({type:"checkbox"},a.getFieldProps("rememberMe"))),Object(Y.jsx)("button",{type:"submit",color:"primary",children:"Login"})]})})},ae=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.auth.isRegistered})),a=Object(u.c)((function(e){return e.auth.isLoggedIn})),n=Object(ee.a)({initialValues:{email:"",password:"",password_confirmation:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Email is Required",e.password?e.password.length<4&&(t.password="Invalid password"):t.password="Password is Required",e.password_confirmation!==e.password&&(t.password="Passwords should match"),t},onSubmit:function(t){n.resetForm(),e(F(t))}});return t?Object(Y.jsx)(i.a,{to:xt.login}):a?Object(Y.jsx)("div",{children:Object(Y.jsxs)("form",{onSubmit:n.handleSubmit,children:[Object(Y.jsxs)("div",{children:[Object(Y.jsx)("input",Object(j.a)({type:"email",placeholder:"email"},n.getFieldProps("email"))),n.touched.email&&n.errors.email&&Object(Y.jsx)("div",{style:{color:"red"},children:n.errors.email})]}),Object(Y.jsxs)("div",{children:[Object(Y.jsx)("input",Object(j.a)({type:"password",placeholder:"password"},n.getFieldProps("password"))),n.touched.password&&n.errors.password&&Object(Y.jsx)("div",{style:{color:"red"},children:n.errors.password})]}),Object(Y.jsxs)("div",{children:[Object(Y.jsx)("input",Object(j.a)({type:"password",placeholder:"password"},n.getFieldProps("password_confirmation"))),n.touched.password_confirmation&&n.errors.password_confirmation&&Object(Y.jsx)("div",{style:{color:"red"},children:n.errors.password_confirmation})]}),Object(Y.jsx)("button",{type:"submit",color:"primary",children:"Register"})]})}):Object(Y.jsx)(i.a,{to:xt.login})},ne=function(){return Object(Y.jsx)("div",{})},re=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.auth.isLoggedIn})),a=Object(ee.a)({initialValues:{email:"",from:"nya-admin@nya.nya",message:"<div style=\"background-color: lime; padding: 15px\">error: string;password recovery link:<a href='http://tengrix.github.io/projectv2/#/set-pass/$token$'>link</a></div>"},validate:function(e){var t={};e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required"},onSubmit:function(t){e(R(t)),a.resetForm()}});return t?Object(Y.jsx)("div",{children:Object(Y.jsxs)("form",{onSubmit:a.handleSubmit,action:"",children:[Object(Y.jsx)("input",Object(j.a)({type:"email",placeholder:"email"},a.getFieldProps("email"))),a.touched.email&&a.errors.email&&Object(Y.jsx)("div",{style:{color:"red"},children:a.errors.email}),Object(Y.jsx)("button",{type:"submit",children:"Submit"})]})}):Object(Y.jsx)(i.a,{to:xt.login})},ce=function(){var e=Object(i.g)().token,t=Object(u.b)(),a=Object(u.c)((function(e){return e.auth.isPassSet})),n=Object(u.c)((function(e){return e.auth.isLoggedIn})),r=Object(ee.a)({initialValues:{password:"",token:e},validate:function(e){var t={};e.password?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.password)||(t.password="Invalid email address"):t.password="Required"},onSubmit:function(e){t(Z(e)),r.resetForm()}});return a?Object(Y.jsx)(i.a,{to:xt.login}):n?Object(Y.jsx)("div",{children:Object(Y.jsxs)("form",{onSubmit:r.handleSubmit,action:"",children:[Object(Y.jsx)("input",Object(j.a)({type:"password",placeholder:"password"},r.getFieldProps("password"))),r.touched.password&&r.errors.password&&Object(Y.jsx)("div",{style:{color:"red"},children:r.errors.password}),Object(Y.jsx)("button",{type:"submit",children:"Submit"})]})}):Object(Y.jsx)(i.a,{to:xt.login})},se=Object(T.c)({name:"packReducer",initialState:{cardPacks:[],myCardsPack:!1,isDeleted:!1,cardPacksTotalCount:14,maxCardsCount:103,minCardsCount:0,page:1,pageCount:10,newPageForShow:1,currentPortionToPaginator:1,sortCardsPacks:"0cardsCount",user_id:"",newCardsPack:{name:""},updatedCardsPack:{name:""}},reducers:{getPacks:function(e,t){e.cardPacks=t.payload.packsData.cardPacks,e.cardPacksTotalCount=t.payload.packsData.cardPacksTotalCount,e.page=t.payload.packsData.page,e.maxCardsCount=t.payload.packsData.maxCardsCount,e.pageCount=t.payload.packsData.pageCount,e.minCardsCount=t.payload.packsData.minCardsCount},getNewPack:function(e,t){e.newCardsPack.name=t.payload.name},changeSort:function(e,t){e.sortCardsPacks=t.payload.newSort},checkMyPack:function(e,t){e.myCardsPack=t.payload.value},delPacks:function(e,t){e.isDeleted=t.payload.value},updatePackName:function(e,t){e.updatedCardsPack.name=t.payload.name},setNewPage:function(e,t){e.page=t.payload.newShowPage},setNewPortion:function(e,t){e.currentPortionToPaginator=t.payload.currentPortion}}}),oe=se.actions,ie=oe.getPacks,de=(oe.getNewPack,oe.changeSort),ue=oe.checkMyPack,le=oe.delPacks,be=oe.updatePackName,je=oe.setNewPage,pe=oe.setNewPortion,he=se.reducer,Oe=function(){return function(e,t){e(J({status:"loading"}));var a=t(),n={params:{page:a.packs.page,pageCount:a.packs.pageCount,sortPacks:a.packs.sortCardsPacks,user_id:a.packs.user_id,cardPacksTotalCount:a.packs.cardPacksTotalCount}};a.packs.myCardsPack&&(n.params.user_id=a.auth.user._id),C(n).then((function(t){e(ie({packsData:t.data})),e(J({status:"succeeded"}))}))}},fe=a(132),ge=a(130),me=a(131),xe=a(133),ke=a(134),ve=a(129),we=a(111),Ce=a(125),ye=a(127),Pe=a(140);function Se(){return Math.round(20*Math.random())-10}function Ne(){var e=50+Se(),t=50+Se();return{top:"".concat(e,"%"),left:"".concat(t,"%"),transform:"translate(-".concat(e,"%, -").concat(t,"%)")}}var _e=Object(Ce.a)((function(e){return{paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}})),Ie=function(e){var t=Object(u.b)(),a=Object(n.useState)(!0),c=Object(d.a)(a,2),s=c[0],i=(c[1],Object(n.useState)(e.packs.name)),l=Object(d.a)(i,2),b=l[0],j=l[1],p=_e(),h=r.a.useState(Ne),O=Object(d.a)(h,1)[0],f=Object(n.useState)(!1),g=Object(d.a)(f,2),m=g[0],x=g[1],k=Object(n.useState)(!1),v=Object(d.a)(k,2),w=v[0],C=v[1],y=function(e){t(function(e){return function(t){t(J({status:"loading"})),P(e).then((function(){t(le({value:!0})),t(Oe()),t(J({status:"succeeded"}))}))}}(e))},N=function(e,a){t(be({name:b})),t(function(e,t){return function(a){a(J({status:"loading"})),S(e,t).then((function(e){a(Oe()),a(J({status:"succeeded"}))}))}}(e,a))},_=Object(Y.jsxs)("div",{style:O,className:p.paper,children:[Object(Y.jsx)("input",{type:"text",value:b,onChange:function(e){return j(e.currentTarget.value)}}),Object(Y.jsx)("button",{disabled:"loading"===e.status,onClick:function(){return C(!0)},children:"del"}),s?Object(Y.jsx)("span",{children:Object(Y.jsx)("button",{disabled:"loading"===e.status,onClick:function(){return N(e.packs._id,b)},children:"save"})}):"",w?Object(Y.jsxs)("div",{children:["Are you sure?",Object(Y.jsx)("button",{disabled:"loading"===e.status,onClick:function(){return y(e.packs._id)},children:"yes"}),Object(Y.jsx)("button",{disabled:"loading"===e.status,onClick:function(){return C(!1)},children:"no"})]}):""]});return Object(Y.jsxs)(ye.a,{children:[Object(Y.jsx)(ve.a,{component:"th",scope:"row",children:e.packs.name}),Object(Y.jsx)(ve.a,{component:"th",scope:"row",children:e.packs.cardsCount}),Object(Y.jsx)(ve.a,{align:"right",children:e.packs.created}),Object(Y.jsx)(ve.a,{align:"right",children:e.packs.updated}),e.isChecked&&Object(Y.jsxs)(ve.a,{align:"right",children:[Object(Y.jsx)("button",{disabled:"loading"===e.status,type:"button",onClick:function(){x(!0)},children:"Edit"}),Object(Y.jsx)(Pe.a,{open:m,onClose:function(){x(!1)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:_})]}),Object(Y.jsx)(o.b,{to:"/cards/"+e.packs._id,children:Object(Y.jsx)("button",{disabled:"loading"===e.status,children:"explore"})})]})},Me=a(39),Ae=a.n(Me);function Te(e){for(var t=[],a=1;a<=Math.ceil(e.totalNumberOfPacks/e.rowsPerPage);a++)t.push(a);var r=Math.ceil(Math.ceil(e.totalNumberOfPacks/e.rowsPerPage)/e.portionSize),c=Object(n.useState)(e.currentPortion),s=Object(d.a)(c,2),o=s[0],i=s[1],u=(o-1)*e.portionSize+1,l=o*e.portionSize;return Object(Y.jsxs)("div",{className:Ae.a.paginatorBody,children:[Object(Y.jsx)("button",{onClick:function(){return i(1)},disabled:1==o,className:Ae.a.buttons,children:"- -"}),Object(Y.jsx)("button",{onClick:function(){i(o-1)},disabled:1==o,className:Ae.a.buttons,children:"-"}),t.filter((function(e){return e>=u&&e<=l})).map((function(t){var a="".concat(e.page===t&&Ae.a.pageActive," ").concat(Ae.a.numberPageStyle);return Object(Y.jsx)("button",{onClick:function(){return e.onChangePaginate(t,o)},className:a,children:t},t)})),Object(Y.jsx)("button",{onClick:function(){i(o+1)},disabled:r<=o,className:Ae.a.buttons,children:"+"}),Object(Y.jsx)("button",{onClick:function(){return i(r)},disabled:r<=o,className:Ae.a.buttons,children:"++"})]})}function De(){return Math.round(20*Math.random())-10}function Fe(){var e=50+De(),t=50+De();return{top:"".concat(e,"%"),left:"".concat(t,"%"),transform:"translate(-".concat(e,"%, -").concat(t,"%)")}}var qe=Object(Ce.a)((function(e){return{paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}})),Le=function(e){var t=Object(n.useState)(e.packData.newCardsPack.name),a=Object(d.a)(t,2),c=a[0],s=a[1],o=qe(),i=r.a.useState(Fe),u=Object(d.a)(i,1)[0],l=r.a.useState(!1),b=Object(d.a)(l,2),j=b[0],p=b[1],h=Object(Y.jsxs)("div",{style:u,className:o.paper,children:[Object(Y.jsx)("input",{disabled:"loading"===e.status,placeholder:"New Pack",type:"text",value:c,onChange:function(e){s(e.currentTarget.value)}}),Object(Y.jsx)("button",{disabled:"loading"===e.status,onClick:function(){return e.newPackHandler(c)},children:"add"})]});return Object(Y.jsxs)("div",{children:[Object(Y.jsx)("button",{type:"button",onClick:function(){p(!0)},children:"Add new pack"}),Object(Y.jsx)(Pe.a,{open:j,onClose:function(){p(!1)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:h})]})},Ue=a(22),Ee=a.n(Ue),Re=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.auth.status})),a=Object(u.c)((function(e){return e.auth.isLoggedIn})),r=Object(u.c)((function(e){return e.packs.myCardsPack})),c=Object(u.c)((function(e){return e.packs})),s=Object(u.c)((function(e){return e.packs.sortCardsPacks})),o=Object(n.useState)(),l=Object(d.a)(o,2),b=(l[0],l[1],Object(n.useState)(r)),j=Object(d.a)(b,2),p=j[0],h=j[1],O=Object(we.a)({table:{minWidth:650}})();Object(n.useEffect)((function(){e(Oe())}),[]);if(!a)return Object(Y.jsx)(i.a,{to:xt.login});var f=function(t){e(de({newSort:t})),e(Oe())};return Object(Y.jsxs)(ge.a,{component:me.a,children:[Object(Y.jsxs)(fe.a,{className:O.table,"aria-label":"simple table",children:[Object(Y.jsxs)(xe.a,{children:["My pack ",Object(Y.jsx)("input",{type:"checkbox",checked:p,onChange:function(t){var a=t.currentTarget.checked;h(a),e(ue({value:a})),e(Oe())}}),Object(Y.jsxs)(ke.a,{children:[Object(Y.jsxs)(ve.a,{children:[Object(Y.jsx)("button",{className:"1name"===s?Ee.a.button:"",disabled:"loading"===t,onClick:function(){return f("1name")},children:"\u2191"}),Object(Y.jsx)("button",{className:"0name"===s?Ee.a.button:"",disabled:"loading"===t,onClick:function(){return f("0name")},children:"\u2193"}),"Name"]}),Object(Y.jsxs)(ve.a,{align:"right",children:[Object(Y.jsx)("button",{className:"0cardsCount"===s?Ee.a.button:"",disabled:"loading"===t,onClick:function(){return f("0cardsCount")},children:"\u2191"}),Object(Y.jsx)("button",{className:"1cardsCount"===s?Ee.a.button:"",disabled:"loading"===t,onClick:function(){return f("1cardsCount")},children:"\u2193"}),"Cards Count"]}),Object(Y.jsxs)(ve.a,{align:"right",children:[Object(Y.jsx)("button",{className:"1created"===s?Ee.a.button:"",disabled:"loading"===t,onClick:function(){return f("1created")},children:"\u2191"}),Object(Y.jsx)("button",{className:"0created"===s?Ee.a.button:"",disabled:"loading"===t,onClick:function(){return f("0created")},children:"\u2193"}),"Created"]}),Object(Y.jsxs)(ve.a,{align:"right",children:[Object(Y.jsx)("button",{className:"1updated"===s?Ee.a.button:"",disabled:"loading"===t,onClick:function(){return f("1updated")},children:"\u2191"}),Object(Y.jsx)("button",{className:"0updated"===s?Ee.a.button:"",disabled:"loading"===t,onClick:function(){return f("0updated")},children:"\u2193"}),"Updated"]}),Object(Y.jsx)(ve.a,{align:"right",children:Object(Y.jsx)(Le,{newPackHandler:function(t){var a;e((a=t,function(e){e(J({status:"loading"})),y(a).then((function(t){e(Oe()),e(J({status:"succeeded"}))}))}))},packData:c,status:t})})]})]}),c.cardPacks.map((function(e){return Object(Y.jsx)(Ie,{packs:e,isChecked:r,status:t},e._id)}))]}),Object(Y.jsx)(Te,{rowsPerPage:10,totalNumberOfPacks:c.cardPacksTotalCount,page:c.page,onChangePaginate:function(t,a){e(je({newShowPage:t})),e(pe({currentPortion:a})),e(Oe())},portionSize:5,currentPortion:c.currentPortionToPaginator})]})},Ze=Object(T.c)({name:"cardReducer",initialState:{cards:[],cardsTotalCount:3,maxGrade:5,minGrade:1,page:1,pageCount:10,currentPortionToPaginator:1,packUserId:"",sortCards:"0grade",newCardCreated:{answer:"",question:""},search:{answer:"",question:""},updatedGrade:{grade:0},learningMode:!1},reducers:{getCards:function(e,t){e.cards=t.payload.cardData.cards,e.page=t.payload.cardData.page,e.pageCount=t.payload.cardData.pageCount,e.packUserId=t.payload.cardData.packUserId,e.cardsTotalCount=t.payload.cardData.cardsTotalCount,e.maxGrade=t.payload.cardData.maxGrade,e.minGrade=t.payload.cardData.minGrade},sortCards:function(e,t){e.sortCards=t.payload.value},newCard:function(e,t){e.newCardCreated.answer=t.payload.answer,e.newCardCreated.question=t.payload.question},setSearchQuestion:function(e,t){e.search.question=t.payload.keyWordForQuestion,e.search.answer=t.payload.keyWordForAnswer},setNewCardsPage:function(e,t){e.page=t.payload.newShowPage},setNewCardsPortion:function(e,t){e.currentPortionToPaginator=t.payload.currentPortion},setLearningModeOn:function(e,t){e.learningMode=t.payload.modeOn}}}),Qe=Ze.actions,Ge=Qe.getCards,ze=Qe.sortCards,Be=(Qe.newCard,Qe.setSearchQuestion),We=Qe.setNewCardsPortion,$e=Qe.setNewCardsPage,He=Qe.setLearningModeOn,Ve=Ze.reducer,Je=function(e){return function(t,a){t(J({status:"loading"}));var n=a(),r={params:{page:n.cards.page,sortCards:n.cards.sortCards,pageCount:n.cards.pageCount,cardsPack_id:e,cardQuestion:n.cards.search.question,cardAnswer:n.cards.search.answer}},c={params:{cardsPack_id:e,pageCount:n.cards.cardsTotalCount}};N(n.cards.learningMode?c:r).then((function(e){t(Ge({cardData:e.data})),t(J({status:"succeeded"}))}))}};function Ke(){return Math.round(20*Math.random())-10}function Ye(){var e=50+Ke(),t=50+Ke();return{top:"".concat(e,"%"),left:"".concat(t,"%"),transform:"translate(-".concat(e,"%, -").concat(t,"%)")}}var Xe=Object(Ce.a)((function(e){return{paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}})),et=function(e){var t=Object(n.useState)(e.question),a=Object(d.a)(t,2),c=a[0],s=a[1],o=Object(n.useState)(e.answer),i=Object(d.a)(o,2),u=i[0],l=i[1],b=Xe(),j=r.a.useState(Ye),p=Object(d.a)(j,1)[0],h=r.a.useState(!1),O=Object(d.a)(h,2),f=O[0],g=O[1],m=Object(Y.jsxs)("div",{style:p,className:b.paper,children:[Object(Y.jsx)("input",{disabled:"loading"===e.status,placeholder:"New Question",type:"text",value:c,onChange:function(e){s(e.currentTarget.value)}}),Object(Y.jsx)("input",{disabled:"loading"===e.status,placeholder:"New Question",type:"text",value:u,onChange:function(e){l(e.currentTarget.value)}}),Object(Y.jsx)("button",{disabled:"loading"===e.status,onClick:function(){return e.updCard(e.id,c,u,e.packId)},children:"upd"})]});return Object(Y.jsxs)("div",{children:[Object(Y.jsx)("button",{type:"button",disabled:"loading"===e.status,onClick:function(){g(!0)},children:"update Card"}),Object(Y.jsx)(Pe.a,{open:f,onClose:function(){g(!1)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:m})]})};function tt(){return Math.round(20*Math.random())-10}function at(){var e=50+tt(),t=50+tt();return{top:"".concat(e,"%"),left:"".concat(t,"%"),transform:"translate(-".concat(e,"%, -").concat(t,"%)")}}var nt=Object(Ce.a)((function(e){return{paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}})),rt=function(e){var t=Object(n.useState)(!1),a=Object(d.a)(t,2),r=a[0],c=a[1],s=nt(),o=Object(n.useState)(at),i=Object(d.a)(o,1)[0],u=Object(n.useState)(!1),l=Object(d.a)(u,2),b=l[0],j=l[1],p=function(){j(!1)},h=Object(Y.jsx)("div",{style:i,className:s.paper,children:r?Object(Y.jsxs)("div",{children:["Are you sure?",Object(Y.jsx)("button",{disabled:"loading"===e.status,onClick:function(){return e.deleteCard(e.id)},children:"yes"}),Object(Y.jsx)("button",{disabled:"loading"===e.status,onClick:p,children:"no"})]}):""});return Object(Y.jsxs)("div",{children:[Object(Y.jsx)("button",{disabled:"loading"===e.status,type:"button",onClick:function(){j(!0),c(!0)},children:"delete card"}),Object(Y.jsx)(Pe.a,{open:b,onClose:p,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:h})]})},ct=function(e){var t=Object(u.b)(),a=Object(n.useState)(!1),r=Object(d.a)(a,2),c=r[0],s=r[1],o=Object(u.c)((function(e){return e.packs.myCardsPack})),i=function(){s(!c)};return Object(Y.jsxs)(ye.a,{children:[Object(Y.jsx)(ve.a,{component:"th",scope:"row",children:e.card.question}),Object(Y.jsxs)(ve.a,{align:"left",children:[c&&e.card.answer,c?Object(Y.jsx)("button",{onClick:function(){return i()},children:"close"}):Object(Y.jsx)("button",{disabled:"loading"===e.status,onClick:function(){return i()},children:"show"})]}),Object(Y.jsx)(ve.a,{align:"left",children:e.card.shots}),Object(Y.jsx)(ve.a,{align:"left",children:e.card.grade}),o&&Object(Y.jsxs)(ve.a,{children:[Object(Y.jsx)(rt,{status:e.status,deleteCard:e.delCardHandler,id:e.id}),Object(Y.jsx)(et,{updCard:function(e,a,n,r){t(function(e,t,a,n){return function(r){r(J({status:"loading"})),M(e,t,a).then((function(){r(Je(n)),r(J({status:"succeeded"}))}))}}(e,a,n,r))},status:e.status,id:e.id,packId:e.packId,question:e.card.question,answer:e.card.answer})]})]})},st=a(135);function ot(){return Math.round(20*Math.random())-10}function it(){var e=50+ot(),t=50+ot();return{top:"".concat(e,"%"),left:"".concat(t,"%"),transform:"translate(-".concat(e,"%, -").concat(t,"%)")}}var dt=Object(Ce.a)((function(e){return{paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}})),ut=function(e){var t=Object(n.useState)(""),a=Object(d.a)(t,2),c=a[0],s=a[1],o=Object(n.useState)(""),i=Object(d.a)(o,2),u=i[0],l=i[1],b=dt(),j=r.a.useState(it),p=Object(d.a)(j,1)[0],h=r.a.useState(!1),O=Object(d.a)(h,2),f=O[0],g=O[1],m=Object(Y.jsxs)("div",{style:p,className:b.paper,children:[Object(Y.jsx)("input",{type:"text",value:c,placeholder:"New Question",onChange:function(e){return s(e.currentTarget.value)}}),Object(Y.jsx)("input",{type:"text",value:u,placeholder:"New Answer",onChange:function(e){return l(e.currentTarget.value)}}),Object(Y.jsx)("button",{disabled:"loading"===e.status,onClick:function(){return e.addNewCard(e.packId,c,u)},children:"add"})]});return Object(Y.jsxs)("div",{children:[Object(Y.jsx)("button",{type:"button",onClick:function(){g(!0)},children:"Add Card"}),Object(Y.jsx)(Pe.a,{open:f,onClose:function(){g(!1)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:m})]})},lt=a(139);function bt(){return Math.round(20*Math.random())-10}function jt(){var e=50+bt(),t=50+bt();return{top:"".concat(e,"%"),left:"".concat(t,"%"),transform:"translate(-".concat(e,"%, -").concat(t,"%)")}}var pt=Object(Ce.a)((function(e){return{paper:{position:"absolute",width:500,backgroundColor:"lightpink",border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}})),ht=function(e){var t=Object(u.b)(),a=Object(u.c)((function(e){return e.cards.cards})),c=Object(u.c)((function(e){return e.cards.cardsTotalCount})),s=Object(n.useState)(0),o=Object(d.a)(s,2),i=o[0],l=o[1],b=Object(n.useState)(1),j=Object(d.a)(b,2),p=j[0],h=j[1],O=Object(n.useState)(!1),f=Object(d.a)(O,2),g=f[0],m=f[1],x=Object(n.useState)(!1),k=Object(d.a)(x,2),v=k[0],w=k[1],C=pt(),y=r.a.useState(jt),P=Object(d.a)(y,1)[0],S=r.a.useState(!1),N=Object(d.a)(S,2),_=N[0],I=N[1],M=function(){I(!1)},T=[],D=[],F=[],q=[],L=[];a.map((function(e){return T.push([e.question]),F.push(e.answer),q.push(e._id),D.push([e.question])})),a.map((function(e,t){return T[t].push(e.grade)}));for(var U=0;U<T.length;++U)for(var E=0;E<T[U][1];++E)L.push(T[U][0]);var R=function(){l(i+1),h(p+1),v&&(l(L[Math.floor(Math.random()*L.length)]),h(p+1))},Z=function(){w(!0),h(1)},Q=function(e,a,n){t(function(e,t,a){return function(n){n(J({status:"loading"})),A(e,t).then((function(){n(Je(a)),n(J({status:"succeeded"}))}))}}(e,a,n)),R()},G=Object(Y.jsxs)("div",{style:P,className:C.paper,children:[Object(Y.jsx)("h2",{id:"simple-modal-title",children:'Learn "Pack Name"'}),Object(Y.jsxs)("div",{id:"simple-modal-description",children:[Object(Y.jsxs)("span",{children:["Question number: ",p,"/",c," "]}),Object(Y.jsx)("div",{children:v?L[Math.floor(Math.random()*L.length)]:D[i]}),Object(Y.jsx)("div",{children:Object(Y.jsx)(lt.a,{color:"primary",variant:"outlined",disabled:!1,onClick:function(){m(!g)},children:"show answer"})}),Object(Y.jsx)("div",{children:g?F[i]:""})]}),Object(Y.jsx)("div",{children:p===c?Object(Y.jsx)(lt.a,{color:"secondary",variant:"outlined",onClick:function(){Z()},children:"start again"}):Object(Y.jsxs)("div",{children:[Object(Y.jsx)("h4",{children:"Rate Yourself"}),["super easy","easy","just fine","hard","super hard"].map((function(t,a){return Object(Y.jsx)(lt.a,{onClick:function(){return Q(a+1,q[i],e.packId)},children:t},"grade-"+a)}))]})}),Object(Y.jsx)(lt.a,{color:"secondary",variant:"outlined",onClick:M,children:"Cancel"}),p===c?Object(Y.jsxs)(lt.a,{color:"primary",variant:"outlined",disabled:!0,onClick:function(){Z()},children:[" ","Next"," "]}):Object(Y.jsxs)(lt.a,{color:"primary",variant:"outlined",disabled:!1,onClick:function(){R()},children:[" ","Next"," "]})]});return Object(Y.jsx)("div",{children:Object(Y.jsxs)("div",{children:[Object(Y.jsx)(lt.a,{variant:"outlined",color:"primary",type:"button",onClick:function(){I(!0),t(He({modeOn:!0})),t(Je(e.packId))},disabled:"loading"===e.status,children:"Learning MODE"}),Object(Y.jsx)(Pe.a,{open:_,onClose:M,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:G})]})})},Ot=a(59),ft=a.n(Ot),gt=function(e){Object(u.b)();var t=Object(n.useState)(!1),a=Object(d.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(""),o=Object(d.a)(s,2),i=o[0],l=o[1],b=Object(n.useState)(""),j=Object(d.a)(b,2),p=j[0],h=j[1];return Object(Y.jsxs)("span",{children:[Object(Y.jsx)("button",{onClick:function(){c(!r)},children:"find"}),r&&Object(Y.jsxs)("span",{children:[Object(Y.jsx)("button",{onClick:function(){e.search(i,p),l(""),h("")},children:"search"}),Object(Y.jsx)("div",{children:Object(Y.jsx)("input",{type:"text",className:ft.a.SearchInput,value:i,onChange:function(e){l(e.currentTarget.value)},placeholder:"Search question"})}),Object(Y.jsx)("div",{children:Object(Y.jsx)("input",{type:"text",value:p,className:ft.a.SearchInput,onChange:function(e){h(e.currentTarget.value)},placeholder:"Search answer"})})]})]})},mt=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.cards})),a=Object(u.c)((function(e){return e.cards.sortCards})),r=Object(u.c)((function(e){return e.auth.isLoggedIn})),c=Object(u.c)((function(e){return e.auth.status})),s=Object(i.g)().packID,o=Object(we.a)({table:{minWidth:650}})();Object(n.useEffect)((function(){d("1grade")}),[e,s]);var d=function(t){e(ze({value:t})),e(Je(s))},l=function(t,a,n){e(function(e,t,a){return function(n,r){var c={_id:r().auth.user._id,cardsPack_id:e,grade:0,shots:0,answer:a,question:t};n(J({status:"loading"})),_(c).then((function(t){n(Je(e)),n(J({status:"succeeded"}))}))}}(t,a,n))};if(!r)return Object(Y.jsx)(i.a,{to:xt.login});var b=function(t){e(function(e){return function(t){t(J({status:"loading"})),I(e).then((function(){t(J({status:"succeeded"}))}))}}(t)),e(Je(s))};return Object(Y.jsxs)(ge.a,{component:me.a,children:[Object(Y.jsxs)(st.a,{className:o.table,"aria-label":"simple table",children:[Object(Y.jsxs)(xe.a,{children:[Object(Y.jsx)("div",{children:Object(Y.jsx)(ht,{status:c,packId:s})}),Object(Y.jsx)(gt,{search:function(t,a){e(Be({keyWordForQuestion:t,keyWordForAnswer:a})),e(Je(s))},packID:s}),Object(Y.jsxs)(ke.a,{children:[Object(Y.jsx)(ve.a,{children:"Questions"}),Object(Y.jsx)(ve.a,{align:"left",children:"Answers"}),Object(Y.jsxs)(ve.a,{align:"left",children:[Object(Y.jsx)("button",{className:"1shots"===a?Ee.a.button:"",disabled:"loading"===c,onClick:function(){return d("1shots")},children:"\u2191"}),Object(Y.jsx)("button",{className:"0shots"===a?Ee.a.button:"",disabled:"loading"===c,onClick:function(){return d("0shots")},children:"\u2193"}),"Shots"]}),Object(Y.jsxs)(ve.a,{align:"left",children:[Object(Y.jsx)("button",{className:"1grade"===a?Ee.a.button:"",disabled:"loading"===c,onClick:function(){return d("1grade")},children:"\u2191"}),Object(Y.jsx)("button",{className:"0grade"===a?Ee.a.button:"",disabled:"loading"===c,onClick:function(){return d("0grade")},children:"\u2193"}),"Grades"]}),Object(Y.jsx)(ve.a,{children:Object(Y.jsx)(ut,{packId:s,addNewCard:l,status:c})})]})]}),t.cards.length&&t.cards.map((function(e){return Object(Y.jsx)(ct,{id:e._id,card:e,delCardHandler:b,packId:s,addNewCard:l,status:c},e._id)}))]}),Object(Y.jsx)(Te,{rowsPerPage:10,totalNumberOfPacks:t.cardsTotalCount,page:t.page,onChangePaginate:function(t,a){e($e({newShowPage:t})),e(We({currentPortion:a})),e(Je(s))},portionSize:5,currentPortion:t.currentPortionToPaginator})]})},xt={login:"/login",register:"/register",profile:"/profile",error:"/404",renew:"/renew",setPassword:"/set-pass/:token",packs:"/packs",cards:"/cards/:packID?"},kt=function(){return Object(Y.jsx)("div",{children:Object(Y.jsxs)(i.d,{children:[Object(Y.jsx)(i.b,{path:"/",exact:!0,component:X}),Object(Y.jsx)(i.b,{path:xt.profile,component:X}),Object(Y.jsx)(i.b,{path:xt.login,component:te}),Object(Y.jsx)(i.b,{path:xt.register,component:ae}),Object(Y.jsx)(i.b,{path:xt.error,component:ne}),Object(Y.jsx)(i.b,{path:xt.renew,component:re}),Object(Y.jsx)(i.b,{path:xt.setPassword,component:ce}),Object(Y.jsx)(i.b,{path:xt.packs,component:Re}),Object(Y.jsx)(i.b,{path:xt.cards,component:mt}),Object(Y.jsx)(i.b,{path:"/404",render:function(){return Object(Y.jsx)("h1",{children:"404:PAGE NOT FOUND"})}}),Object(Y.jsx)(i.a,{from:"*",to:xt.error})]})})},vt=a(136),wt=a(137),Ct=a(138),yt=function(){return Object(Y.jsx)("div",{children:Object(Y.jsx)(vt.a,{color:"light",light:!0,expand:"md",children:Object(Y.jsxs)(wt.a,{className:"mr-auto",navbar:!0,children:[Object(Y.jsx)(Ct.a,{children:Object(Y.jsx)(o.b,{to:xt.profile,children:"Profile"})}),Object(Y.jsx)(Ct.a,{children:Object(Y.jsx)(o.b,{to:xt.login,children:"Sign In"})}),Object(Y.jsx)(Ct.a,{children:Object(Y.jsx)(o.b,{to:xt.register,children:"Sign Up"})}),Object(Y.jsx)(Ct.a,{children:Object(Y.jsx)(o.b,{to:xt.renew,children:"Renew Password"})}),Object(Y.jsx)(Ct.a,{children:Object(Y.jsx)(o.b,{to:xt.setPassword,children:"Set Password"})}),Object(Y.jsx)(Ct.a,{children:Object(Y.jsx)(o.b,{to:xt.packs,children:"Packs"})})]})})})};a(109);var Pt=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.auth.isInitialized})),a=Object(u.c)((function(e){return e.auth.isLoggedIn}));return Object(n.useEffect)((function(){e(q())}),[e]),t?Object(Y.jsx)("div",{children:Object(Y.jsxs)(o.a,{children:[a?Object(Y.jsx)("button",{onClick:function(){e(U())},children:"logout"}):Object(Y.jsx)(i.a,{to:xt.login}),Object(Y.jsx)(yt,{}),Object(Y.jsx)(kt,{})]})}):Object(Y.jsx)("div",{children:"loading"})},St=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,142)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))},Nt=a(25),_t=a(44),It=Object(Nt.b)({auth:K,packs:he,cards:Ve}),Mt=Object(T.a)({reducer:It,middleware:function(e){return e().prepend(_t.a)}});window.store=Mt,s.a.render(Object(Y.jsx)(r.a.StrictMode,{children:Object(Y.jsx)(u.a,{store:Mt,children:Object(Y.jsx)(Pt,{})})}),document.getElementById("root")),St()},22:function(e,t,a){e.exports={button:"cards_button__2wQo2"}},39:function(e,t,a){e.exports={paginatorBody:"pagination_paginatorBody__29sjn",numberPageStyle:"pagination_numberPageStyle__1cKFc",pageActive:"pagination_pageActive__EnP4L",buttons:"pagination_buttons__ZDOAl"}},59:function(e,t,a){e.exports={Search:"search_Search__2swfN",SearchSpan:"search_SearchSpan__2JnFc",SearchInput:"search_SearchInput__BhMfu"}},84:function(e,t,a){}},[[110,1,2]]]);
//# sourceMappingURL=main.9bd34c2c.chunk.js.map