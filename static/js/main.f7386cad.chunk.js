(this.webpackJsonpprojectv2=this.webpackJsonpprojectv2||[]).push([[0],{105:function(e,t,a){},106:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(18),s=a.n(r),o=(a(81),a(12)),i=a(9),d=a(5),u=a(4),l=a(13),j=a(67),b=a.n(j).a.create({baseURL:"https://neko-back.herokuapp.com/2.0/",withCredentials:!0}),p=function(e,t,a){return b.post("auth/login",{email:e,password:t,rememberMe:a})},h=function(e,t){return b.post("auth/register",{email:e,password:t})},O=function(){return b.post("auth/me")},f=function(e){return b.put("auth/me",{name:e})},g=function(){return b.delete("auth/me")},m=function(e,t,a){return b.post("auth/forgot",{email:e,from:t,message:a})},x=function(e,t){return b.post("auth/set-new-password",{password:e,resetPasswordToken:t})},k=function(e){return b.get("cards/pack",e)},C=function(e){return b.post("cards/pack",{cardsPack:{name:e}})},v=function(e){return b.delete("cards/pack/?id=".concat(e))},w=function(e,t){return b.put("cards/pack",{cardsPack:{_id:e,name:t}})},P=function(e){return b.get("cards/card",e)},y=function(e){return b.post("cards/card",{card:e})},S=function(e){return b.delete("cards/card?id=".concat(e))},_=function(e,t){return b.put("cards/card",{card:{_id:e,question:t}})},N=function(e,t){return b.put("cards/grade",{grade:e,card_id:t})},I=a(33),M=Object(I.b)({name:"auth",initialState:{isLoggedIn:!1,isRegistered:!1,isInitialized:!1,user:{_id:"",email:"",name:"",avatar:""},updatedUser:{},isPassUpdated:!1,isPassSet:!1,status:"idle"},reducers:{getLoginAC:function(e,t){e.isLoggedIn=t.payload.value},registerNewUser:function(e,t){e.isRegistered=t.payload.value},getMe:function(e,t){e.isInitialized=t.payload.value},getUpdatedUser:function(e,t){e.updatedUser=t.payload.name},getUser:function(e,t){e.user=t.payload.user},forgotPass:function(e,t){e.isPassUpdated=t.payload.value},setPass:function(e,t){e.isPassSet=t.payload.value},setAppStatusAC:function(e,t){e.status=t.payload.status}}}),T=M.actions,A=T.getLoginAC,D=T.registerNewUser,F=T.getMe,L=T.getUpdatedUser,U=T.getUser,q=T.forgotPass,E=T.setPass,R=T.setAppStatusAC,Z=M.reducer,G=a(1),z=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.auth.isLoggedIn})),a=Object(u.c)((function(e){return e.auth.user})),c=Object(n.useState)(a.name),r=Object(d.a)(c,2),s=r[0],o=r[1],j=Object(n.useState)(!1),b=Object(d.a)(j,2),p=b[0],h=b[1],g=Object(n.useState)(!1),m=Object(d.a)(g,2),x=m[0],k=m[1];Object(n.useEffect)((function(){t||e((function(e){O().then((function(t){var a=t.data,n=a._id,c=a.name,r=a.email,s=a.avatar;e(U({user:{_id:n,name:c,email:r,avatar:s}}))})).catch((function(e){e.response?e.response.data.error:e.message,console.log("Error: ",Object(l.a)({},e))}))}))}),[]);return t?Object(G.jsxs)("div",{children:[Object(G.jsx)("div",{children:Object(G.jsx)("img",{src:a.avatar,alt:""})}),x&&Object(G.jsx)("div",{children:p?Object(G.jsx)("input",{type:"text",value:s,autoFocus:!0,onBlur:function(){h(!1),e(function(e){return function(t){t(R({status:"loading"})),f(e).then((function(a){t(L({name:e})),t(R({status:"succeeded"}))})).catch((function(e){e.response?e.response.data.error:e.message,console.log("Error: ",Object(l.a)({},e))}))}}(s))},placeholder:"new name",onChange:function(e){o(e.currentTarget.value)}}):Object(G.jsx)("span",{onDoubleClick:function(){h(!0),o(a.name)},children:s})}),Object(G.jsx)("button",{onClick:function(){k(!x)},children:"show"})]}):Object(G.jsx)(i.a,{to:at.login})},B=a(32),Q=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.auth.isLoggedIn})),a=Object(B.a)({initialValues:{email:"",password:"",rememberMe:!1},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",e.password?e.password.length<4&&(t.password="Invalid password"):t.password="Required",t},onSubmit:function(t){var n,c,r;e((n=t.email,c=t.password,r=t.rememberMe,function(e){e(R({status:"loading"})),p(n,c,r).then((function(t){var a=t.data,n=a._id,c=a.name,r=a.email,s=a.avatar;e(A({value:!0})),e(U({user:{_id:n,name:c,email:r,avatar:s}})),e(R({status:"succeeded"}))})).catch((function(e){e.response?e.response.data.error:e.message,console.log("Error: ",Object(l.a)({},e))}))})),a.resetForm()}});return t?Object(G.jsx)(i.a,{to:at.profile}):Object(G.jsx)("div",{children:Object(G.jsxs)("form",{onSubmit:a.handleSubmit,children:[Object(G.jsxs)("div",{children:[Object(G.jsx)("input",Object(l.a)({type:"email",placeholder:"email"},a.getFieldProps("email"))),a.touched.email&&a.errors.email&&Object(G.jsx)("div",{style:{color:"red"},children:a.errors.email})]}),Object(G.jsxs)("div",{children:[Object(G.jsx)("input",Object(l.a)({type:"password",placeholder:"password"},a.getFieldProps("password"))),a.touched.password&&a.errors.password&&Object(G.jsx)("div",{style:{color:"red"},children:a.errors.password})]}),Object(G.jsx)("input",Object(l.a)({type:"checkbox"},a.getFieldProps("rememberMe"))),Object(G.jsx)("button",{type:"submit",color:"primary",children:"Login"})]})})},$=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.auth.isRegistered})),a=Object(u.c)((function(e){return e.auth.isLoggedIn})),n=Object(B.a)({initialValues:{email:"",password:"",password_confirmation:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Email is Required",e.password?e.password.length<4&&(t.password="Invalid password"):t.password="Password is Required",e.password_confirmation!==e.password&&(t.password="Passwords should match"),t},onSubmit:function(t){var a,c;n.resetForm(),e((a=t.email,c=t.password,function(e){e(R({status:"loading"})),h(a,c).then((function(t){e(D({value:!0})),e(R({status:"succeeded"}))})).catch((function(e){e.response?e.response.data.error:e.message,console.log("Error: ",Object(l.a)({},e))}))}))}});return t?Object(G.jsx)(i.a,{to:at.login}):a?Object(G.jsx)("div",{children:Object(G.jsxs)("form",{onSubmit:n.handleSubmit,children:[Object(G.jsxs)("div",{children:[Object(G.jsx)("input",Object(l.a)({type:"email",placeholder:"email"},n.getFieldProps("email"))),n.touched.email&&n.errors.email&&Object(G.jsx)("div",{style:{color:"red"},children:n.errors.email})]}),Object(G.jsxs)("div",{children:[Object(G.jsx)("input",Object(l.a)({type:"password",placeholder:"password"},n.getFieldProps("password"))),n.touched.password&&n.errors.password&&Object(G.jsx)("div",{style:{color:"red"},children:n.errors.password})]}),Object(G.jsxs)("div",{children:[Object(G.jsx)("input",Object(l.a)({type:"password",placeholder:"password"},n.getFieldProps("password_confirmation"))),n.touched.password_confirmation&&n.errors.password_confirmation&&Object(G.jsx)("div",{style:{color:"red"},children:n.errors.password_confirmation})]}),Object(G.jsx)("button",{type:"submit",color:"primary",children:"Register"})]})}):Object(G.jsx)(i.a,{to:at.login})},H=function(){return Object(G.jsx)("div",{})},V=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.auth.isLoggedIn})),a=Object(B.a)({initialValues:{email:""},validate:function(e){var t={};e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required"},onSubmit:function(t){var n,c,r;e((n=t.email,c="nya-admin@nya.nya",r="<div style=\"background-color: lime; padding: 15px\">error: string;password recovery link:<a href='http://tengrix.github.io/projectv2/#/set-pass/$token$'>link</a></div>",function(e){e(R({status:"loading"})),m(n,c,r).then((function(t){e(q({value:!0})),e(R({status:"succeeded"}))}))})),a.resetForm()}});return t?Object(G.jsx)("div",{children:Object(G.jsxs)("form",{onSubmit:a.handleSubmit,action:"",children:[Object(G.jsx)("input",Object(l.a)({type:"email",placeholder:"email"},a.getFieldProps("email"))),a.touched.email&&a.errors.email&&Object(G.jsx)("div",{style:{color:"red"},children:a.errors.email}),Object(G.jsx)("button",{type:"submit",children:"Submit"})]})}):Object(G.jsx)(i.a,{to:at.login})},J=function(){var e=Object(i.g)().token,t=Object(u.b)(),a=Object(u.c)((function(e){return e.auth.isPassSet})),n=Object(u.c)((function(e){return e.auth.isLoggedIn})),c=Object(B.a)({initialValues:{password:""},validate:function(e){var t={};e.password?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.password)||(t.password="Invalid email address"):t.password="Required"},onSubmit:function(a){t(function(e,t){return function(a){a(R({status:"loading"})),x(e,t).then((function(e){a(E({value:!0})),a(R({status:"succeeded"}))}))}}(a.password,e)),c.resetForm()}});return a?Object(G.jsx)(i.a,{to:at.login}):n?Object(G.jsx)("div",{children:Object(G.jsxs)("form",{onSubmit:c.handleSubmit,action:"",children:[Object(G.jsx)("input",Object(l.a)({type:"password",placeholder:"password"},c.getFieldProps("password"))),c.touched.password&&c.errors.password&&Object(G.jsx)("div",{style:{color:"red"},children:c.errors.password}),Object(G.jsx)("button",{type:"submit",children:"Submit"})]})}):Object(G.jsx)(i.a,{to:at.login})},W=Object(I.b)({name:"packReducer",initialState:{cardPacks:[],myCardsPack:!1,isDeleted:!1,cardPacksTotalCount:14,maxCardsCount:103,minCardsCount:0,page:1,pageCount:10,newPageForShow:1,currentPortionToPaginator:1,sortCardsPacks:"0cardsCount",user_id:"",newCardsPack:{name:""},updatedCardsPack:{name:""}},reducers:{getPacks:function(e,t){e.cardPacks=t.payload.packsData.cardPacks,e.cardPacksTotalCount=t.payload.packsData.cardPacksTotalCount,e.page=t.payload.packsData.page,e.maxCardsCount=t.payload.packsData.maxCardsCount,e.pageCount=t.payload.packsData.pageCount,e.minCardsCount=t.payload.packsData.minCardsCount},getNewPack:function(e,t){e.newCardsPack.name=t.payload.name},changeSort:function(e,t){e.sortCardsPacks=t.payload.newSort},checkMyPack:function(e,t){e.myCardsPack=t.payload.value},delPacks:function(e,t){e.isDeleted=t.payload.value},updatePackName:function(e,t){e.updatedCardsPack.name=t.payload.name},setNewPage:function(e,t){e.page=t.payload.newShowPage},setNewPortion:function(e,t){e.currentPortionToPaginator=t.payload.currentPortion}}}),K=W.actions,Y=K.getPacks,X=(K.getNewPack,K.changeSort),ee=K.checkMyPack,te=K.delPacks,ae=K.updatePackName,ne=K.setNewPage,ce=K.setNewPortion,re=W.reducer,se=function(){return function(e,t){e(R({status:"loading"}));var a=t(),n={params:{page:a.packs.page,max:a.packs.maxCardsCount,pageCount:a.packs.pageCount,min:a.packs.minCardsCount,sortPacks:a.packs.sortCardsPacks,user_id:a.packs.user_id,cardPacksTotalCount:a.packs.cardPacksTotalCount}};a.packs.myCardsPack&&(n.params.user_id=a.auth.user._id),k(n).then((function(t){e(Y({packsData:t.data})),e(R({status:"succeeded"}))}))}},oe=a(128),ie=a(126),de=a(127),ue=a(129),le=a(130),je=a(125),be=a(107),pe=a(121),he=a(123),Oe=a(136);function fe(){return Math.round(20*Math.random())-10}function ge(){var e=50+fe(),t=50+fe();return{top:"".concat(e,"%"),left:"".concat(t,"%"),transform:"translate(-".concat(e,"%, -").concat(t,"%)")}}var me=Object(pe.a)((function(e){return{paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}})),xe=function(e){var t=Object(u.b)(),a=Object(n.useState)(!0),r=Object(d.a)(a,2),s=r[0],i=r[1],l=Object(n.useState)(""),j=Object(d.a)(l,2),b=j[0],p=j[1],h=me(),O=c.a.useState(ge),f=Object(d.a)(O,1)[0],g=c.a.useState(!1),m=Object(d.a)(g,2),x=m[0],k=m[1],C=function(e){t(function(e){return function(t){t(R({status:"loading"})),v(e).then((function(){t(te({value:!0})),t(se()),t(R({status:"succeeded"}))}))}}(e))},P=function(e,a){t(ae({name:b})),t(function(e,t){return function(a){a(R({status:"loading"})),w(e,t).then((function(e){a(se()),a(R({status:"succeeded"}))}))}}(e,a))},y=Object(G.jsxs)("div",{style:f,className:h.paper,children:[Object(G.jsx)("button",{disabled:"loading"===e.status,onClick:function(){i(!s)},children:"edit"}),Object(G.jsx)("button",{disabled:"loading"===e.status,onClick:function(){return C(e.packs._id)},children:"del"}),s?"":Object(G.jsxs)("span",{children:[Object(G.jsx)("input",{type:"text",value:b,onChange:function(e){return p(e.currentTarget.value)}}),Object(G.jsx)("button",{disabled:"loading"===e.status,onClick:function(){return P(e.packs._id,b)},children:"save"})]})]});return Object(G.jsxs)(he.a,{children:[Object(G.jsx)(je.a,{component:"th",scope:"row",children:e.packs.name}),Object(G.jsx)(je.a,{component:"th",scope:"row",children:e.packs.cardsCount}),Object(G.jsx)(je.a,{align:"right",children:e.packs.created}),Object(G.jsx)(je.a,{align:"right",children:e.packs.updated}),e.isChecked&&Object(G.jsxs)(je.a,{align:"right",children:[Object(G.jsx)("button",{disabled:"loading"===e.status,type:"button",onClick:function(){k(!0)},children:"Edit"}),Object(G.jsx)(Oe.a,{open:x,onClose:function(){k(!1)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:y})]}),Object(G.jsx)(o.b,{to:"/cards/"+e.packs._id,children:Object(G.jsx)("button",{disabled:"loading"===e.status,children:"learn"})})]})},ke=a(35),Ce=a.n(ke);function ve(e){for(var t=[],a=1;a<=Math.ceil(e.totalNumberOfPacks/e.rowsPerPage);a++)t.push(a);var c=Math.ceil(Math.ceil(e.totalNumberOfPacks/e.rowsPerPage)/e.portionSize),r=Object(n.useState)(e.currentPortion),s=Object(d.a)(r,2),o=s[0],i=s[1],u=(o-1)*e.portionSize+1,l=o*e.portionSize;return Object(G.jsxs)("div",{className:Ce.a.paginatorBody,children:[Object(G.jsx)("button",{onClick:function(){return i(1)},disabled:1==o,className:Ce.a.buttons,children:"- -"}),Object(G.jsx)("button",{onClick:function(){i(o-1)},disabled:1==o,className:Ce.a.buttons,children:"-"}),t.filter((function(e){return e>=u&&e<=l})).map((function(t){var a="".concat(e.page===t&&Ce.a.pageActive," ").concat(Ce.a.numberPageStyle);return Object(G.jsx)("button",{onClick:function(){return e.onChangePaginate(t,o)},className:a,children:t},t)})),Object(G.jsx)("button",{onClick:function(){i(o+1)},disabled:c<=o,className:Ce.a.buttons,children:"+"}),Object(G.jsx)("button",{onClick:function(){return i(c)},disabled:c<=o,className:Ce.a.buttons,children:"++"})]})}function we(){return Math.round(20*Math.random())-10}function Pe(){var e=50+we(),t=50+we();return{top:"".concat(e,"%"),left:"".concat(t,"%"),transform:"translate(-".concat(e,"%, -").concat(t,"%)")}}var ye=Object(pe.a)((function(e){return{paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}})),Se=function(e){var t=Object(n.useState)(e.packData.newCardsPack.name),a=Object(d.a)(t,2),r=a[0],s=a[1],o=ye(),i=c.a.useState(Pe),u=Object(d.a)(i,1)[0],l=c.a.useState(!1),j=Object(d.a)(l,2),b=j[0],p=j[1],h=Object(G.jsxs)("div",{style:u,className:o.paper,children:[Object(G.jsx)("input",{disabled:"loading"===e.status,placeholder:"New Pack",type:"text",value:r,onChange:function(e){s(e.currentTarget.value)}}),Object(G.jsx)("button",{disabled:"loading"===e.status,onClick:function(){return e.newPackHandler(r)},children:"add"})]});return Object(G.jsxs)("div",{children:[Object(G.jsx)("button",{type:"button",onClick:function(){p(!0)},children:"Add new pack"}),Object(G.jsx)(Oe.a,{open:b,onClose:function(){p(!1)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:h})]})},_e=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.auth.status})),a=Object(u.c)((function(e){return e.auth.isLoggedIn})),c=Object(u.c)((function(e){return e.packs.myCardsPack})),r=Object(u.c)((function(e){return e.packs})),s=Object(n.useState)(c),o=Object(d.a)(s,2),l=o[0],j=o[1],b=Object(be.a)({table:{minWidth:650}})();Object(n.useEffect)((function(){e(se())}),[]);if(!a)return Object(G.jsx)(i.a,{to:at.login});var p=function(t){e(X({newSort:t})),e(se())};return Object(G.jsxs)(ie.a,{component:de.a,children:[Object(G.jsxs)(oe.a,{className:b.table,"aria-label":"simple table",children:[Object(G.jsxs)(ue.a,{children:["My pack ",Object(G.jsx)("input",{type:"checkbox",checked:l,onChange:function(t){var a=t.currentTarget.checked;j(a),e(ee({value:a})),e(se())}}),Object(G.jsxs)(le.a,{children:[Object(G.jsxs)(je.a,{children:[Object(G.jsx)("button",{disabled:"loading"===t,onClick:function(){return p("1name")},children:"\u2191"}),Object(G.jsx)("button",{disabled:"loading"===t,onClick:function(){return p("0name")},children:"\u2193"}),"Name"]}),Object(G.jsxs)(je.a,{align:"right",children:[Object(G.jsx)("button",{disabled:"loading"===t,onClick:function(){return p("0cardsCount")},children:"\u2191"}),Object(G.jsx)("button",{disabled:"loading"===t,onClick:function(){return p("1cardsCount")},children:"\u2193"}),"Cards Count"]}),Object(G.jsxs)(je.a,{align:"right",children:[Object(G.jsx)("button",{disabled:"loading"===t,onClick:function(){return p("1created")},children:"\u2191"}),Object(G.jsx)("button",{disabled:"loading"===t,onClick:function(){return p("0created")},children:"\u2193"}),"Created"]}),Object(G.jsxs)(je.a,{align:"right",children:[Object(G.jsx)("button",{disabled:"loading"===t,onClick:function(){return p("1updated")},children:"\u2191"}),Object(G.jsx)("button",{disabled:"loading"===t,onClick:function(){return p("0updated")},children:"\u2193"}),"Updated"]}),Object(G.jsx)(je.a,{align:"right",children:Object(G.jsx)(Se,{newPackHandler:function(t){var a;e((a=t,function(e){e(R({status:"loading"})),C(a).then((function(t){e(se()),e(R({status:"succeeded"}))}))}))},packData:r,status:t})})]})]}),r.cardPacks.map((function(e){return Object(G.jsx)(xe,{packs:e,isChecked:c,status:t},e._id)}))]}),Object(G.jsx)(ve,{rowsPerPage:10,totalNumberOfPacks:r.cardPacksTotalCount,page:r.page,onChangePaginate:function(t,a){e(ne({newShowPage:t})),e(ce({currentPortion:a})),e(se())},portionSize:5,currentPortion:r.currentPortionToPaginator})]})},Ne=Object(I.b)({name:"cardReducer",initialState:{cards:[],cardsTotalCount:3,maxGrade:5,minGrade:1,page:1,pageCount:10,currentPortionToPaginator:1,packUserId:"",sortCards:"0grade",newCardCreated:{answer:"",question:""},search:!1,updatedGrade:{grade:0}},reducers:{getCards:function(e,t){e.cards=t.payload.cardData.cards,e.page=t.payload.cardData.page,e.pageCount=t.payload.cardData.pageCount,e.packUserId=t.payload.cardData.packUserId,e.cardsTotalCount=t.payload.cardData.cardsTotalCount,e.maxGrade=t.payload.cardData.maxGrade,e.minGrade=t.payload.cardData.minGrade},sortCards:function(e,t){e.sortCards=t.payload.value},newCard:function(e,t){e.newCardCreated.answer=t.payload.answer,e.newCardCreated.question=t.payload.question},setSearchQuestion:function(e,t){e.cards=e.cards.filter((function(e){return e.question.search(t.payload.keyWord)}))},setNewCardsPage:function(e,t){e.page=t.payload.newShowPage},setNewCardsPortion:function(e,t){e.currentPortionToPaginator=t.payload.currentPortion}}}),Ie=Ne.actions,Me=Ie.getCards,Te=Ie.sortCards,Ae=(Ie.newCard,Ie.setSearchQuestion,Ie.setNewCardsPortion),De=Ie.setNewCardsPage,Fe=Ne.reducer,Le=function(e){return function(t,a){var n=a(),c={params:{min:n.cards.minGrade,max:n.cards.maxGrade,page:n.cards.page,sortCards:n.cards.sortCards,pageCount:n.cards.pageCount,cardsPack_id:e}};P(c).then((function(e){t(Me({cardData:e.data}))}))}};function Ue(){return Math.round(20*Math.random())-10}function qe(){var e=50+Ue(),t=50+Ue();return{top:"".concat(e,"%"),left:"".concat(t,"%"),transform:"translate(-".concat(e,"%, -").concat(t,"%)")}}var Ee=Object(pe.a)((function(e){return{paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}})),Re=function(e){var t=Object(n.useState)(""),a=Object(d.a)(t,2),r=a[0],s=a[1],o=Ee(),i=c.a.useState(qe),u=Object(d.a)(i,1)[0],l=c.a.useState(!1),j=Object(d.a)(l,2),b=j[0],p=j[1],h=Object(G.jsxs)("div",{style:u,className:o.paper,children:[Object(G.jsx)("input",{disabled:"loading"===e.status,placeholder:"New Question",type:"text",value:r,onChange:function(e){s(e.currentTarget.value)}}),Object(G.jsx)("button",{disabled:"loading"===e.status,onClick:function(){return e.updCard(e.id,r,e.packId)},children:"upd"})]});return Object(G.jsxs)("div",{children:[Object(G.jsx)("button",{type:"button",onClick:function(){p(!0)},children:"update Card"}),Object(G.jsx)(Oe.a,{open:b,onClose:function(){p(!1)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:h})]})},Ze=function(e){var t=Object(u.b)(),a=Object(n.useState)(!1),c=Object(d.a)(a,2),r=c[0],s=c[1],o=Object(u.c)((function(e){return e.packs.myCardsPack})),i=function(){s(!r)};return Object(G.jsxs)(he.a,{children:[Object(G.jsx)(je.a,{component:"th",scope:"row",children:e.card.question}),Object(G.jsxs)(je.a,{align:"left",children:[r&&e.card.answer,r?Object(G.jsx)("button",{onClick:function(){return i()},children:"close"}):Object(G.jsx)("button",{disabled:"loading"===e.status,onClick:function(){return i()},children:"show"})]}),Object(G.jsx)(je.a,{align:"left",children:e.card.shots}),Object(G.jsx)(je.a,{align:"left",children:e.card.grade}),o&&Object(G.jsxs)(je.a,{children:[Object(G.jsx)("button",{disabled:"loading"===e.status,onClick:function(){return e.delCardHandler(e.id)},children:"del"}),Object(G.jsx)(Re,{updCard:function(e,a,n){t(function(e,t,a){return function(n){_(e,t).then((function(){n(Le(a))}))}}(e,a,n))},status:e.status,id:e.id,packId:e.packId})]})]})},Ge=a(131),ze=a(56),Be=a.n(ze),Qe=function(e){var t=Object(n.useState)(!1),a=Object(d.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)(!1),o=Object(d.a)(s,2),i=o[0],u=o[1],l=Object(n.useState)(!1),j=Object(d.a)(l,2),b=j[0],p=j[1];return Object(G.jsxs)("span",{children:[Object(G.jsx)("button",{onClick:function(){r(!c),p(!1),u(!1)},children:"find"}),c&&Object(G.jsxs)("span",{children:[i?Object(G.jsx)("div",{children:Object(G.jsx)("input",{type:"text",className:Be.a.SearchInput,onChange:e.onChange,placeholder:"Search question"})}):Object(G.jsx)("span",{children:Object(G.jsx)("button",{onClick:function(){return p(!b)},children:"answer"})}),b?Object(G.jsx)("div",{children:Object(G.jsx)("input",{type:"text",className:Be.a.SearchInput,onChange:e.onChange,placeholder:"Search answer"})}):Object(G.jsx)("button",{onClick:function(){return u(!i)},children:"question"})]})]})};function $e(){return Math.round(20*Math.random())-10}function He(){var e=50+$e(),t=50+$e();return{top:"".concat(e,"%"),left:"".concat(t,"%"),transform:"translate(-".concat(e,"%, -").concat(t,"%)")}}var Ve=Object(pe.a)((function(e){return{paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}})),Je=function(e){var t=Object(n.useState)(""),a=Object(d.a)(t,2),r=a[0],s=a[1],o=Object(n.useState)(""),i=Object(d.a)(o,2),u=i[0],l=i[1],j=Ve(),b=c.a.useState(He),p=Object(d.a)(b,1)[0],h=c.a.useState(!1),O=Object(d.a)(h,2),f=O[0],g=O[1],m=Object(G.jsxs)("div",{style:p,className:j.paper,children:[Object(G.jsx)("input",{type:"text",value:r,placeholder:"New Question",onChange:function(e){return s(e.currentTarget.value)}}),Object(G.jsx)("input",{type:"text",value:u,placeholder:"New Answer",onChange:function(e){return l(e.currentTarget.value)}}),Object(G.jsx)("button",{disabled:"loading"===e.status,onClick:function(){return e.addNewCard(e.packId,r,u)},children:"add"})]});return Object(G.jsxs)("div",{children:[Object(G.jsx)("button",{type:"button",onClick:function(){g(!0)},children:"Add Card"}),Object(G.jsx)(Oe.a,{open:f,onClose:function(){g(!1)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:m})]})},We=a(135);function Ke(){return Math.round(20*Math.random())-10}function Ye(){var e=50+Ke(),t=50+Ke();return{top:"".concat(e,"%"),left:"".concat(t,"%"),transform:"translate(-".concat(e,"%, -").concat(t,"%)")}}var Xe=Object(pe.a)((function(e){return{paper:{position:"absolute",width:500,backgroundColor:"lightpink",border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}})),et=function(e){var t=Object(u.b)(),a=Object(u.c)((function(e){return e.cards.cards})),r=Object(n.useState)(0),s=Object(d.a)(r,2),o=s[0],i=s[1],l=Object(n.useState)(1),j=Object(d.a)(l,2),b=j[0],p=j[1],h=Object(n.useState)(!1),O=Object(d.a)(h,2),f=O[0],g=O[1],m=Object(n.useState)(!1),x=Object(d.a)(m,2),k=x[0],C=x[1],v=Xe(),w=c.a.useState(Ye),P=Object(d.a)(w,1)[0],y=c.a.useState(!1),S=Object(d.a)(y,2),_=S[0],I=S[1],M=function(){I(!1)},T=[],A=[],D=[],F=[],L=[];a.map((function(e){return T.push([e.question]),D.push(e.answer),F.push(e._id),A.push([e.question])})),a.map((function(e,t){return T[t].push(e.grade)}));for(var U=0;U<T.length;++U)for(var q=0;q<T[U][1];++q)L.push(T[U][0]);var E=function(){i(o+1),p(b+1),k&&(i(L[Math.floor(Math.random()*L.length)]),console.log(L[Math.floor(Math.random()*L.length)]),p(b+1))},R=function(){C(!0),p(1)},Z=function(e,a,n){t(function(e,t,a){return function(n){N(e,t).then((function(){n(Le(a))}))}}(e,a,n)),E()},z=Object(G.jsxs)("div",{style:P,className:v.paper,children:[Object(G.jsx)("h2",{id:"simple-modal-title",children:'Learn "Pack Name"'}),Object(G.jsxs)("div",{id:"simple-modal-description",children:[Object(G.jsxs)("span",{children:["Question number: ",b,"/",a.length," "]}),Object(G.jsx)("div",{children:k?L[Math.floor(Math.random()*L.length)]:A[o]}),Object(G.jsx)("div",{children:Object(G.jsx)(We.a,{color:"primary",variant:"outlined",disabled:!1,onClick:function(){g(!f)},children:"show answer"})}),Object(G.jsx)("div",{children:f?D[o]:""})]}),Object(G.jsx)("div",{children:b===a.length?Object(G.jsx)(We.a,{color:"secondary",variant:"outlined",onClick:function(){R()},children:"start again"}):Object(G.jsxs)("div",{children:[Object(G.jsx)("h4",{children:"Rate Yourself"}),["super easy","easy","just fine","hard","super hard"].map((function(t,a){return Object(G.jsx)(We.a,{onClick:function(){return Z(a+1,F[o],e.packId)},children:t},"grade-"+a)}))]})}),Object(G.jsx)(We.a,{color:"secondary",variant:"outlined",onClick:M,children:"Cancel"}),b===a.length?Object(G.jsxs)(We.a,{color:"primary",variant:"outlined",disabled:!0,onClick:function(){R()},children:[" ","Next"," "]}):Object(G.jsxs)(We.a,{color:"primary",variant:"outlined",disabled:!1,onClick:function(){E()},children:[" ","Next"," "]})]});return Object(G.jsx)("div",{children:Object(G.jsxs)("div",{children:[Object(G.jsx)(We.a,{variant:"outlined",color:"primary",type:"button",onClick:function(){I(!0)},disabled:"loading"===e.status,children:"Learning MODE"}),Object(G.jsx)(Oe.a,{open:_,onClose:M,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:z})]})})},tt=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.cards})),a=Object(u.c)((function(e){return e.auth.isLoggedIn})),c=Object(u.c)((function(e){return e.auth.status})),r=Object(i.g)().packID,s=Object(n.useState)(""),o=Object(d.a)(s,2),l=o[0],j=o[1],b=Object(n.useState)(""),p=Object(d.a)(b,2),h=(p[0],p[1],Object(be.a)({table:{minWidth:650}})());Object(n.useEffect)((function(){O("1grade")}),[e,r]);var O=function(t){e(Te({value:t})),e(Le(r))},f=function(t,a,n){e(function(e,t,a){return function(n,c){var r={_id:c().auth.user._id,cardsPack_id:e,grade:0,shots:0,answer:a,question:t};y(r).then((function(t){n(Le(e))}))}}(t,a,n))};if(!a)return Object(G.jsx)(i.a,{to:at.login});var g=function(t){e(function(e){return function(){S(e).then((function(){}))}}(t)),e(Le(r))};return Object(G.jsxs)(ie.a,{component:de.a,children:[Object(G.jsxs)(Ge.a,{className:h.table,"aria-label":"simple table",children:[Object(G.jsxs)(ue.a,{children:[Object(G.jsx)("div",{children:Object(G.jsx)(et,{status:c,packId:r})}),Object(G.jsx)(Qe,{question:l,onChange:function(e){j(e.currentTarget.value)}}),Object(G.jsxs)(le.a,{children:[Object(G.jsx)(je.a,{children:"Questions"}),Object(G.jsx)(je.a,{align:"left",children:"Answers"}),Object(G.jsxs)(je.a,{align:"left",children:[Object(G.jsx)("button",{disabled:"loading"===c,onClick:function(){return O("1shots")},children:"\u2191"}),Object(G.jsx)("button",{disabled:"loading"===c,onClick:function(){return O("0shots")},children:"\u2193"}),"Shots"]}),Object(G.jsxs)(je.a,{align:"left",children:[Object(G.jsx)("button",{disabled:"loading"===c,onClick:function(){return O("1grade")},children:"\u2191"}),Object(G.jsx)("button",{disabled:"loading"===c,onClick:function(){return O("0grade")},children:"\u2193"}),"Grades"]}),Object(G.jsx)(je.a,{children:Object(G.jsx)(Je,{packId:r,addNewCard:f,status:c})})]})]}),t.cards.length&&t.cards.map((function(e){return Object(G.jsx)(Ze,{id:e._id,card:e,delCardHandler:g,packId:r,addNewCard:f,status:c},e._id)}))]}),Object(G.jsx)(ve,{rowsPerPage:10,totalNumberOfPacks:t.cardsTotalCount,page:t.page,onChangePaginate:function(t,a){e(De({newShowPage:t})),e(Ae({currentPortion:a})),e(Le(r))},portionSize:5,currentPortion:t.currentPortionToPaginator})]})},at={login:"/login",register:"/register",profile:"/profile",error:"/404",renew:"/renew",setPassword:"/set-pass/:token",packs:"/packs",cards:"/cards/:packID?"},nt=function(){return Object(G.jsx)("div",{children:Object(G.jsxs)(i.d,{children:[Object(G.jsx)(i.b,{path:"/",exact:!0,component:z}),Object(G.jsx)(i.b,{path:at.profile,component:z}),Object(G.jsx)(i.b,{path:at.login,component:Q}),Object(G.jsx)(i.b,{path:at.register,component:$}),Object(G.jsx)(i.b,{path:at.error,component:H}),Object(G.jsx)(i.b,{path:at.renew,component:V}),Object(G.jsx)(i.b,{path:at.setPassword,component:J}),Object(G.jsx)(i.b,{path:at.packs,component:_e}),Object(G.jsx)(i.b,{path:at.cards,component:tt}),Object(G.jsx)(i.b,{path:"/404",render:function(){return Object(G.jsx)("h1",{children:"404:PAGE NOT FOUND"})}}),Object(G.jsx)(i.a,{from:"*",to:at.error})]})})},ct=a(132),rt=a(133),st=a(134),ot=function(){return Object(G.jsx)("div",{children:Object(G.jsx)(ct.a,{color:"light",light:!0,expand:"md",children:Object(G.jsxs)(rt.a,{className:"mr-auto",navbar:!0,children:[Object(G.jsx)(st.a,{children:Object(G.jsx)(o.b,{to:at.profile,children:"Profile"})}),Object(G.jsx)(st.a,{children:Object(G.jsx)(o.b,{to:at.login,children:"Sign In"})}),Object(G.jsx)(st.a,{children:Object(G.jsx)(o.b,{to:at.register,children:"Sign Up"})}),Object(G.jsx)(st.a,{children:Object(G.jsx)(o.b,{to:at.renew,children:"Renew Password"})}),Object(G.jsx)(st.a,{children:Object(G.jsx)(o.b,{to:at.setPassword,children:"Set Password"})}),Object(G.jsx)(st.a,{children:Object(G.jsx)(o.b,{to:at.packs,children:"Packs"})})]})})})};a(105);var it=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.auth.isInitialized})),a=Object(u.c)((function(e){return e.auth.isLoggedIn}));return Object(n.useEffect)((function(){e((function(e){e(R({status:"loading"})),O().then((function(t){e(A({value:!0})),e(U({user:t.data})),e(R({status:"succeeded"}))})).catch((function(e){e.response?e.response.data.error:e.message,console.log("Error: ",Object(l.a)({},e))})).finally((function(){e(F({value:!0}))}))}))}),[e]),t?Object(G.jsx)("div",{children:Object(G.jsxs)(o.a,{children:[a?Object(G.jsx)("button",{onClick:function(){e((function(e){e(R({status:"loading"})),g().then((function(t){e(A({value:!1})),e(R({status:"succeeded"}))})).catch((function(e){e.response?e.response.data.error:e.message,console.log("Error: ",Object(l.a)({},e))}))}))},children:"logout"}):Object(G.jsx)(i.a,{to:at.login}),Object(G.jsx)(ot,{}),Object(G.jsx)(nt,{})]})}):Object(G.jsx)("div",{children:"loading"})},dt=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,138)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))},ut=a(22),lt=a(41),jt=Object(ut.b)({auth:Z,packs:re,cards:Fe}),bt=Object(I.a)({reducer:jt,middleware:function(e){return e().prepend(lt.a)}});window.store=bt,s.a.render(Object(G.jsx)(c.a.StrictMode,{children:Object(G.jsx)(u.a,{store:bt,children:Object(G.jsx)(it,{})})}),document.getElementById("root")),dt()},35:function(e,t,a){e.exports={paginatorBody:"pagination_paginatorBody__29sjn",numberPageStyle:"pagination_numberPageStyle__1cKFc",pageActive:"pagination_pageActive__EnP4L",buttons:"pagination_buttons__ZDOAl"}},56:function(e,t,a){e.exports={Search:"search_Search__2swfN",SearchSpan:"search_SearchSpan__2JnFc",SearchInput:"search_SearchInput__BhMfu"}},81:function(e,t,a){}},[[106,1,2]]]);
//# sourceMappingURL=main.f7386cad.chunk.js.map